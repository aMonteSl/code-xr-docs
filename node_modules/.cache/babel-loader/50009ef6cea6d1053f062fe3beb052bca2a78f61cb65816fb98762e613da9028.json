{"ast":null,"code":"const PLUGIN_ID = 'aMonteSl.code-xr';\n\n// Funci√≥n principal para obtener m√©tricas del plugin Code-XR\nasync function obtenerMetricasCodeXR() {\n  var _data$results$, _ext$versions$, _ext$versions$2;\n  const url = 'https://marketplace.visualstudio.com/_apis/public/gallery/extensionquery?api-version=3.0-preview.1';\n\n  // Body de la petici√≥n, filtrando por \"aMonteSl.code-xr\" y pidiendo estad√≠sticas (flags = 256)\n  const body = {\n    filters: [{\n      criteria: [{\n        filterType: 7,\n        value: PLUGIN_ID\n      }],\n      pageNumber: 1,\n      pageSize: 1\n    }],\n    flags: 769\n  };\n  console.log('üîç Realizando petici√≥n exacta a la API para plugin:', PLUGIN_ID);\n  console.log('üìã Body de la petici√≥n:', JSON.stringify(body, null, 2));\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json;api-version=3.0-preview.1'\n    },\n    body: JSON.stringify(body)\n  });\n  console.log('üì° Respuesta HTTP status:', response.status);\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }\n  const data = await response.json();\n  console.log('üìä Datos completos de la API:', data);\n  const ext = (_data$results$ = data.results[0]) === null || _data$results$ === void 0 ? void 0 : _data$results$.extensions[0];\n  if (!ext) {\n    throw new Error('Plugin no encontrado en la respuesta de la API');\n  }\n  console.log('‚úÖ Plugin encontrado:', ext.extensionName);\n  console.log('üìà Estad√≠sticas raw:', ext.statistics);\n\n  // üîç DEPURACI√ìN ESPEC√çFICA DE VERSIONES\n  console.log('üè∑Ô∏è DEPURACI√ìN DE VERSIONES:');\n  console.log('üì¶ ¬øExiste ext.versions?', !!ext.versions);\n  console.log('üì¶ Tipo de ext.versions:', typeof ext.versions);\n  console.log('üì¶ Es array ext.versions?', Array.isArray(ext.versions));\n  if (ext.versions) {\n    console.log('üì¶ Longitud del array versions:', ext.versions.length);\n    console.log('üì¶ TODAS las versiones disponibles:', ext.versions);\n\n    // Mostrar las primeras 3 versiones con detalle\n    ext.versions.slice(0, 3).forEach((version, index) => {\n      console.log(`üì¶ Versi√≥n ${index}:`, {\n        version: version.version,\n        lastUpdated: version.lastUpdated,\n        properties: version.properties,\n        assetUri: version.assetUri,\n        fallbackAssetUri: version.fallbackAssetUri\n      });\n    });\n  } else {\n    console.log('‚ùå ext.versions NO existe');\n  }\n\n  // Intentar obtener versi√≥n de m√∫ltiples formas\n  let latestVersion = null;\n\n  // M√©todo 1: Primer elemento del array versions\n  if (ext.versions && Array.isArray(ext.versions) && ext.versions.length > 0) {\n    latestVersion = ext.versions[0].version;\n    console.log('‚úÖ M√©todo 1 - Versi√≥n desde versions[0]:', latestVersion);\n  }\n\n  // M√©todo 2: Buscar en displayName o extensionName\n  if (!latestVersion && ext.displayName) {\n    const versionMatch = ext.displayName.match(/v?(\\d+\\.\\d+\\.\\d+)/);\n    if (versionMatch) {\n      latestVersion = versionMatch[1];\n      console.log('‚úÖ M√©todo 2 - Versi√≥n desde displayName:', latestVersion);\n    }\n  }\n\n  // M√©todo 3: Buscar en properties\n  if (!latestVersion && ext.versions && (_ext$versions$ = ext.versions[0]) !== null && _ext$versions$ !== void 0 && _ext$versions$.properties) {\n    for (const prop of ext.versions[0].properties) {\n      if (prop.key === 'Microsoft.VisualStudio.Code.Engine' || prop.key === 'version' || prop.key.toLowerCase().includes('version')) {\n        console.log(`üîç Propiedad encontrada: ${prop.key} = ${prop.value}`);\n        const versionMatch = prop.value.match(/v?(\\d+\\.\\d+\\.\\d+)/);\n        if (versionMatch) {\n          latestVersion = versionMatch[1];\n          console.log('‚úÖ M√©todo 3 - Versi√≥n desde properties:', latestVersion);\n          break;\n        }\n      }\n    }\n  }\n\n  // M√©todo 4: Buscar en manifestVersion (si existe)\n  if (!latestVersion && ext.versions && (_ext$versions$2 = ext.versions[0]) !== null && _ext$versions$2 !== void 0 && _ext$versions$2.manifestVersion) {\n    latestVersion = ext.versions[0].manifestVersion;\n    console.log('‚úÖ M√©todo 4 - Versi√≥n desde manifestVersion:', latestVersion);\n  }\n  console.log('üè∑Ô∏è VERSI√ìN FINAL DETERMINADA:', latestVersion || 'NO ENCONTRADA');\n\n  // Normalizar estad√≠sticas a un objeto para extraer valores f√°cilmente\n  const statsObj = {};\n  for (const s of ext.statistics || []) {\n    statsObj[s.statisticName] = s.value;\n    console.log(`üìä Estad√≠stica: \"${s.statisticName}\" = ${s.value} (tipo: ${typeof s.value})`);\n  }\n  console.log('üó∫Ô∏è Objeto de estad√≠sticas normalizado:', statsObj);\n\n  // B√öSQUEDA MEJORADA - Buscar con m√∫ltiples nombres posibles\n  const findStatValue = (possibleNames, logPrefix) => {\n    console.log(`üîç ${logPrefix} - Buscando entre:`, possibleNames);\n    for (const name of possibleNames) {\n      // Buscar exact match\n      if (statsObj[name] !== undefined && statsObj[name] !== null) {\n        console.log(`‚úÖ ${logPrefix} - Encontrado con \"${name}\": ${statsObj[name]}`);\n        return Number(statsObj[name]);\n      }\n\n      // Buscar case-insensitive\n      const lowerName = name.toLowerCase();\n      for (const [key, value] of Object.entries(statsObj)) {\n        if (key.toLowerCase() === lowerName && value !== undefined && value !== null) {\n          console.log(`‚úÖ ${logPrefix} - Encontrado case-insensitive \"${key}\": ${value}`);\n          return Number(value);\n        }\n      }\n    }\n    console.log(`‚ùå ${logPrefix} - No encontrado en ninguna variante`);\n    return null;\n  };\n\n  // Buscar downloads/instalaciones totales\n  const totalDescargas = findStatValue(['downloads', 'download', 'downloadCount', 'totalDownloads', 'install', 'installs', 'installCount', 'totalInstalls', 'cumulativeInstalls', 'allTimeInstalls'], 'DOWNLOADS');\n\n  // Buscar instalaciones activas (esto ya funciona)\n  const totalInstalaciones = findStatValue(['install', 'installs', 'installCount', 'activeInstalls', 'currentInstalls', 'liveInstalls'], 'ACTIVE INSTALLS');\n\n  // Buscar rating promedio\n  const promedioRating = findStatValue(['averageRating', 'averagerating', 'rating', 'averageScore', 'score', 'ratingAverage'], 'RATING');\n\n  // Buscar total de valoraciones\n  const totalValoraciones = findStatValue(['ratingCount', 'ratingcount', 'reviewCount', 'reviewcount', 'ratingsCount', 'totalRatings', 'totalReviews'], 'RATING COUNT');\n  const result = {\n    totalInstalaciones: totalInstalaciones,\n    promedioRating: promedioRating,\n    totalValoraciones: totalValoraciones,\n    totalDescargas: totalDescargas,\n    version: latestVersion\n  };\n  console.log('üìà M√©tricas finales del plugin extra√≠das:', result);\n  return result;\n}\n\n// Funci√≥n de adaptaci√≥n para mantener compatibilidad con el hook existente\nexport const getPluginStats = async () => {\n  try {\n    const metrics = await obtenerMetricasCodeXR();\n    return {\n      downloads: metrics.totalDescargas,\n      installs: metrics.totalInstalaciones,\n      rating: metrics.promedioRating,\n      ratingCount: metrics.totalValoraciones,\n      version: metrics.version,\n      error: null\n    };\n  } catch (error) {\n    console.error('Error fetching plugin stats:', error);\n    return {\n      downloads: null,\n      installs: null,\n      rating: null,\n      ratingCount: null,\n      version: null,\n      error: error.message\n    };\n  }\n};\n\n// ‚ú® MANTENER: Alias para compatibilidad\nexport const getExtensionStats = getPluginStats;\n\n// Exportar tambi√©n la funci√≥n original por si la necesitas\nexport { obtenerMetricasCodeXR };\n\n// M√©todo de fallback (mantener por si acaso)\nexport const getStatsFromWebPage = async () => {\n  try {\n    console.log('üåê M√©todo de fallback: scraping web...');\n    const response = await fetch(`https://marketplace.visualstudio.com/items?itemName=${PLUGIN_ID}`, {\n      headers: {\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\n      }\n    });\n    const html = await response.text();\n    console.log('üìÑ HTML obtenido para fallback, longitud:', html.length);\n\n    // Patrones b√°sicos para fallback\n    const downloadMatch = html.match(/(\\d{1,3}(?:,\\d{3})*)\\s*(?:downloads?|installs?)/i);\n    const installMatch = html.match(/(\\d{1,3}(?:,\\d{3})*)\\s*(?:active|current)\\s*(?:installs?|users?)/i);\n    const downloads = downloadMatch ? parseInt(downloadMatch[1].replace(/,/g, '')) : null;\n    const installs = installMatch ? parseInt(installMatch[1].replace(/,/g, '')) : null;\n    console.log('üìä Resultados del fallback web scraping:', {\n      downloads,\n      installs\n    });\n    return {\n      downloads: downloads,\n      installs: installs,\n      source: 'web-scraping-fallback'\n    };\n  } catch (error) {\n    console.error('üí• Error en fallback web scraping:', error);\n    return null;\n  }\n};","map":{"version":3,"names":["PLUGIN_ID","obtenerMetricasCodeXR","_data$results$","_ext$versions$","_ext$versions$2","url","body","filters","criteria","filterType","value","pageNumber","pageSize","flags","console","log","JSON","stringify","response","fetch","method","headers","status","ok","Error","data","json","ext","results","extensions","extensionName","statistics","versions","Array","isArray","length","slice","forEach","version","index","lastUpdated","properties","assetUri","fallbackAssetUri","latestVersion","displayName","versionMatch","match","prop","key","toLowerCase","includes","manifestVersion","statsObj","s","statisticName","findStatValue","possibleNames","logPrefix","name","undefined","Number","lowerName","Object","entries","totalDescargas","totalInstalaciones","promedioRating","totalValoraciones","result","getPluginStats","metrics","downloads","installs","rating","ratingCount","error","message","getExtensionStats","getStatsFromWebPage","html","text","downloadMatch","installMatch","parseInt","replace","source"],"sources":["/home/adrian/web_code_xr/src/utils/marketplaceAPI.js"],"sourcesContent":["const PLUGIN_ID = 'aMonteSl.code-xr';\n\n// Funci√≥n principal para obtener m√©tricas del plugin Code-XR\nasync function obtenerMetricasCodeXR() {\n  const url = 'https://marketplace.visualstudio.com/_apis/public/gallery/extensionquery?api-version=3.0-preview.1';\n\n  // Body de la petici√≥n, filtrando por \"aMonteSl.code-xr\" y pidiendo estad√≠sticas (flags = 256)\n  const body = {\n    filters: [\n      {\n        criteria: [\n          {\n            filterType: 7,\n            value: PLUGIN_ID\n          }\n        ],\n        pageNumber: 1,\n        pageSize: 1\n      }\n    ],\n    flags: 769\n  };\n\n  console.log('üîç Realizando petici√≥n exacta a la API para plugin:', PLUGIN_ID);\n  console.log('üìã Body de la petici√≥n:', JSON.stringify(body, null, 2));\n\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json;api-version=3.0-preview.1'\n    },\n    body: JSON.stringify(body)\n  });\n\n  console.log('üì° Respuesta HTTP status:', response.status);\n\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }\n\n  const data = await response.json();\n  console.log('üìä Datos completos de la API:', data);\n  \n  const ext = data.results[0]?.extensions[0];\n  if (!ext) {\n    throw new Error('Plugin no encontrado en la respuesta de la API');\n  }\n\n  console.log('‚úÖ Plugin encontrado:', ext.extensionName);\n  console.log('üìà Estad√≠sticas raw:', ext.statistics);\n\n  // üîç DEPURACI√ìN ESPEC√çFICA DE VERSIONES\n  console.log('üè∑Ô∏è DEPURACI√ìN DE VERSIONES:');\n  console.log('üì¶ ¬øExiste ext.versions?', !!ext.versions);\n  console.log('üì¶ Tipo de ext.versions:', typeof ext.versions);\n  console.log('üì¶ Es array ext.versions?', Array.isArray(ext.versions));\n  \n  if (ext.versions) {\n    console.log('üì¶ Longitud del array versions:', ext.versions.length);\n    console.log('üì¶ TODAS las versiones disponibles:', ext.versions);\n    \n    // Mostrar las primeras 3 versiones con detalle\n    ext.versions.slice(0, 3).forEach((version, index) => {\n      console.log(`üì¶ Versi√≥n ${index}:`, {\n        version: version.version,\n        lastUpdated: version.lastUpdated,\n        properties: version.properties,\n        assetUri: version.assetUri,\n        fallbackAssetUri: version.fallbackAssetUri\n      });\n    });\n  } else {\n    console.log('‚ùå ext.versions NO existe');\n  }\n\n  // Intentar obtener versi√≥n de m√∫ltiples formas\n  let latestVersion = null;\n  \n  // M√©todo 1: Primer elemento del array versions\n  if (ext.versions && Array.isArray(ext.versions) && ext.versions.length > 0) {\n    latestVersion = ext.versions[0].version;\n    console.log('‚úÖ M√©todo 1 - Versi√≥n desde versions[0]:', latestVersion);\n  }\n  \n  // M√©todo 2: Buscar en displayName o extensionName\n  if (!latestVersion && ext.displayName) {\n    const versionMatch = ext.displayName.match(/v?(\\d+\\.\\d+\\.\\d+)/);\n    if (versionMatch) {\n      latestVersion = versionMatch[1];\n      console.log('‚úÖ M√©todo 2 - Versi√≥n desde displayName:', latestVersion);\n    }\n  }\n  \n  // M√©todo 3: Buscar en properties\n  if (!latestVersion && ext.versions && ext.versions[0]?.properties) {\n    for (const prop of ext.versions[0].properties) {\n      if (prop.key === 'Microsoft.VisualStudio.Code.Engine' || \n          prop.key === 'version' || \n          prop.key.toLowerCase().includes('version')) {\n        console.log(`üîç Propiedad encontrada: ${prop.key} = ${prop.value}`);\n        const versionMatch = prop.value.match(/v?(\\d+\\.\\d+\\.\\d+)/);\n        if (versionMatch) {\n          latestVersion = versionMatch[1];\n          console.log('‚úÖ M√©todo 3 - Versi√≥n desde properties:', latestVersion);\n          break;\n        }\n      }\n    }\n  }\n  \n  // M√©todo 4: Buscar en manifestVersion (si existe)\n  if (!latestVersion && ext.versions && ext.versions[0]?.manifestVersion) {\n    latestVersion = ext.versions[0].manifestVersion;\n    console.log('‚úÖ M√©todo 4 - Versi√≥n desde manifestVersion:', latestVersion);\n  }\n\n  console.log('üè∑Ô∏è VERSI√ìN FINAL DETERMINADA:', latestVersion || 'NO ENCONTRADA');\n\n  // Normalizar estad√≠sticas a un objeto para extraer valores f√°cilmente\n  const statsObj = {};\n  for (const s of ext.statistics || []) {\n    statsObj[s.statisticName] = s.value;\n    console.log(`üìä Estad√≠stica: \"${s.statisticName}\" = ${s.value} (tipo: ${typeof s.value})`);\n  }\n\n  console.log('üó∫Ô∏è Objeto de estad√≠sticas normalizado:', statsObj);\n\n  // B√öSQUEDA MEJORADA - Buscar con m√∫ltiples nombres posibles\n  const findStatValue = (possibleNames, logPrefix) => {\n    console.log(`üîç ${logPrefix} - Buscando entre:`, possibleNames);\n    \n    for (const name of possibleNames) {\n      // Buscar exact match\n      if (statsObj[name] !== undefined && statsObj[name] !== null) {\n        console.log(`‚úÖ ${logPrefix} - Encontrado con \"${name}\": ${statsObj[name]}`);\n        return Number(statsObj[name]);\n      }\n      \n      // Buscar case-insensitive\n      const lowerName = name.toLowerCase();\n      for (const [key, value] of Object.entries(statsObj)) {\n        if (key.toLowerCase() === lowerName && value !== undefined && value !== null) {\n          console.log(`‚úÖ ${logPrefix} - Encontrado case-insensitive \"${key}\": ${value}`);\n          return Number(value);\n        }\n      }\n    }\n    \n    console.log(`‚ùå ${logPrefix} - No encontrado en ninguna variante`);\n    return null;\n  };\n\n  // Buscar downloads/instalaciones totales\n  const totalDescargas = findStatValue([\n    'downloads', 'download', 'downloadCount', 'totalDownloads',\n    'install', 'installs', 'installCount', 'totalInstalls',\n    'cumulativeInstalls', 'allTimeInstalls'\n  ], 'DOWNLOADS');\n\n  // Buscar instalaciones activas (esto ya funciona)\n  const totalInstalaciones = findStatValue([\n    'install', 'installs', 'installCount', 'activeInstalls',\n    'currentInstalls', 'liveInstalls'\n  ], 'ACTIVE INSTALLS');\n\n  // Buscar rating promedio\n  const promedioRating = findStatValue([\n    'averageRating', 'averagerating', 'rating', 'averageScore',\n    'score', 'ratingAverage'\n  ], 'RATING');\n\n  // Buscar total de valoraciones\n  const totalValoraciones = findStatValue([\n    'ratingCount', 'ratingcount', 'reviewCount', 'reviewcount',\n    'ratingsCount', 'totalRatings', 'totalReviews'\n  ], 'RATING COUNT');\n\n  const result = {\n    totalInstalaciones: totalInstalaciones,\n    promedioRating: promedioRating,\n    totalValoraciones: totalValoraciones,\n    totalDescargas: totalDescargas,\n    version: latestVersion\n  };\n\n  console.log('üìà M√©tricas finales del plugin extra√≠das:', result);\n  return result;\n}\n\n// Funci√≥n de adaptaci√≥n para mantener compatibilidad con el hook existente\nexport const getPluginStats = async () => {\n  try {\n    const metrics = await obtenerMetricasCodeXR();\n    \n    return {\n      downloads: metrics.totalDescargas,\n      installs: metrics.totalInstalaciones,\n      rating: metrics.promedioRating,\n      ratingCount: metrics.totalValoraciones,\n      version: metrics.version,\n      error: null\n    };\n  } catch (error) {\n    console.error('Error fetching plugin stats:', error);\n    return {\n      downloads: null,\n      installs: null,\n      rating: null,\n      ratingCount: null,\n      version: null,\n      error: error.message\n    };\n  }\n};\n\n// ‚ú® MANTENER: Alias para compatibilidad\nexport const getExtensionStats = getPluginStats;\n\n// Exportar tambi√©n la funci√≥n original por si la necesitas\nexport { obtenerMetricasCodeXR };\n\n// M√©todo de fallback (mantener por si acaso)\nexport const getStatsFromWebPage = async () => {\n  try {\n    console.log('üåê M√©todo de fallback: scraping web...');\n    \n    const response = await fetch(\n      `https://marketplace.visualstudio.com/items?itemName=${PLUGIN_ID}`,\n      {\n        headers: {\n          'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\n        }\n      }\n    );\n    \n    const html = await response.text();\n    console.log('üìÑ HTML obtenido para fallback, longitud:', html.length);\n\n    // Patrones b√°sicos para fallback\n    const downloadMatch = html.match(/(\\d{1,3}(?:,\\d{3})*)\\s*(?:downloads?|installs?)/i);\n    const installMatch = html.match(/(\\d{1,3}(?:,\\d{3})*)\\s*(?:active|current)\\s*(?:installs?|users?)/i);\n\n    const downloads = downloadMatch ? parseInt(downloadMatch[1].replace(/,/g, '')) : null;\n    const installs = installMatch ? parseInt(installMatch[1].replace(/,/g, '')) : null;\n\n    console.log('üìä Resultados del fallback web scraping:', { downloads, installs });\n\n    return {\n      downloads: downloads,\n      installs: installs,\n      source: 'web-scraping-fallback'\n    };\n\n  } catch (error) {\n    console.error('üí• Error en fallback web scraping:', error);\n    return null;\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}